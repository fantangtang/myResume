<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" href="css/reset.min.css"/>
    <link rel="stylesheet" href="css/swiper.min.css"/>
    <link rel="stylesheet" href="css/animate.css"/>
    <link rel="stylesheet" href="css/index.css"/>
    <script type="text/javascript">
        var desW = 640;
        var winW = document.documentElement.clientWidth;
        document.documentElement.style.fontSize = winW / desW * 100 + 'px';
    </script>
</head>
<body>
<section class="main">
    <section class="music">
        <audio src="audio/one.mp3" preload="" id="beyond"></audio>
        <!--
        controls  显示用户操控页面
        autoplay 自动播放
        loop     循环播放
        preload: auto  预加载音频文件
               ：metadata  只加载音频文件的元数据，例如（音频文件总共的播放时间）
               ：none  不加载
        -->
    </section>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide slide1">
                <img src="img/swiper/work.png" alt=""/>
                <img src="img/swiper/work_1.png" alt=""/>
                <img src="img/swiper/line.png" alt=""/>
                <img src="img/swiper/line_word.png" alt=""/>
                <img src="img/swiper/line_2.png" alt=""/>
                <img src="img/swiper/arrow.png" alt=""/>
            </div>
            <div class="swiper-slide slide2">
                <img src="img/swiper/2_top.png" alt=""/>
                <img src="img/swiper/2_botm.png" alt=""/>
                <img src="img/swiper/about_me.png" alt=""/>
                <img src="img/swiper/photo_1.png" alt=""/>
                <img src="img/swiper/photo_2.jpg" alt=""/>
            </div>
        </div>
    </div>
</section>
</body>
</html>
<script type="text/javascript" src="js/swiper.min.js"></script>
<script type="text/javascript">
    var mySwiper = new Swiper('.swiper-container', {
        direction: "vertical",
        loop:true,
        onTransitionEnd: function (swiper) {
            var curIndex = swiper.activeIndex;//当前活动滑块的索引,也就是上一个滑块结束后到下一个滑块的索引
            var slides = swiper.slides;//获得所有的滑块
            //要做的事情:通过当前活动滑块的索引找到对应的滑块，加相应的id名
            [].forEach.call(slides, function (item, index) {
                item.id = "";
                if (index == curIndex) {
                    //当前活动滑块是否是第一个或者最后一个
                    /*if(curIndex == 0){
                     slides[0].id = "page" + (slides.length-2);
                     }else if(curIndex == slides.length-1){
                     slides[curIndex].id = "page1";
                     }else{
                     slides[curIndex].id = "page" + index;
                     }*/
                    switch (index){
                        case 0:
                            item.id = "page" + slides.length-2;
                            break;
                        case slides.length-1:
                            item.id = "page1";
                            break;
                        default :
                            item.id = "page" + index;
                    }
                }
            })
        }
    });
    var music = document.querySelector('.music');
    var beyond = document.querySelector('#beyond');
    window.setTimeout(function(){
        music.style.opacity = 1;
        beyond.pause(); // 播放 play() 停止 pause()
        music.className = "music musicMove";
    },1000);

    /*音频播放 播放 play() 停止 pause()*/
    /***
     * 怎样去判断当前的音频文件 是 播放 还是 停止的
     * true 停止
     * false 播放
     * */
    music.addEventListener("click",function(){
        if(beyond.paused){
            beyond.play();
            music.className = "music musicMove";
        }else{
            beyond.pause();
            music.className = "music";
        }
    },false);
</script>